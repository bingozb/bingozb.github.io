(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{376:function(a,n,s){"use strict";s.r(n);var t=s(4),e=Object(t.a)({},(function(){var a=this,n=a.$createElement,s=a._self._c||n;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[a._v("#")]),a._v(" 前言")]),a._v(" "),s("p",[a._v("记录一个刚开始做 iOS 开发就遇到的问题，当 App 使用 "),s("code",[a._v("UITabBarController")]),a._v(" --\x3e "),s("code",[a._v("UINavigationController")]),a._v(" --\x3e "),s("code",[a._v("UIViewController")]),a._v(" 这样的结构时，控制器做 "),s("code",[a._v("push")]),a._v(" 或者 "),s("code",[a._v("pop")]),a._v(" 操作时，都会因为导航栏的半透明出现不太和谐的阴影问题。")]),a._v(" "),s("h2",{attrs:{id:"记录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#记录"}},[a._v("#")]),a._v(" 记录")]),a._v(" "),s("h3",{attrs:{id:"问题一"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#问题一"}},[a._v("#")]),a._v(" 问题一")]),a._v(" "),s("p",[a._v("从 iOS7 开始，导航控制器 push 时，导航栏右上角会有一片黑色阴影的矩形区域，一闪而过。")]),a._v(" "),s("h4",{attrs:{id:"解决"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决"}},[a._v("#")]),a._v(" 解决")]),a._v(" "),s("p",[a._v("导航栏看到的"),s("strong",[a._v("黑色阴影")]),a._v("其实就是最底层窗口的颜色，window 默认的背景色是黑色。")]),a._v(" "),s("p",[a._v("方法一：\n"),s("strong",[a._v("把导航栏设为不透明的")])]),a._v(" "),s("div",{staticClass:"language-objc line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("+ (void)initialize\n{\n    UINavigationBar *bar = [UINavigationBar appearanceWhenContainedIn:self, nil];\n    bar.translucent = NO;\n}\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("p",[a._v("不推荐这么做。")]),a._v(" "),s("ol",[s("li",[a._v("如果把导航栏设为不透明的，UIScrollView、UITableView、UICollectionView 等可以滚动的控件，就失去了穿透导航栏的效果。")]),a._v(" "),s("li",[a._v("原本控件距顶部间距写了"),s("code",[a._v("64")]),a._v("，显示在屏幕顶部正常。当改为不透明后，就会多出高度为"),s("code",[a._v("64")]),a._v("的间距。在项目的后期更不推荐去掉导航栏的半透明，否则就需要地毯式地搜索所有界面，把距离父控件顶部的"),s("code",[a._v("64")]),a._v("改为"),s("code",[a._v("0")]),a._v("。")])]),a._v(" "),s("p",[a._v("方法二：\n"),s("strong",[a._v("给 window 设置背景色")])]),a._v(" "),s("div",{staticClass:"language-objc line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {  \n    // Override point for customization after application launch.  \n    self.window.backgroundColor = [UIColor whiteColor];  \n      \n    return YES;  \n}  \n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("h3",{attrs:{id:"问题二"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#问题二"}},[a._v("#")]),a._v(" 问题二")]),a._v(" "),s("p",[a._v("尽管设了 window 的背景色，但是 pop 时，如果即将消失的控制器是有导航栏的，而下面那个控制器没有导航栏，就同样会出现阴影。阴影的颜色就是下面那个控制器导航栏位置的控件的背景色。")]),a._v(" "),s("h4",{attrs:{id:"解决-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决-2"}},[a._v("#")]),a._v(" 解决")]),a._v(" "),s("p",[a._v("设置导航条的背景颜色。")]),a._v(" "),s("div",{staticClass:"language-objc line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("+ (void)initialize\n{\n    UINavigationBar *bar = [UINavigationBar appearanceWhenContainedIn:self, nil];\n    [bar setBarTintColor:[UIColor whiteColor]];\n}\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);