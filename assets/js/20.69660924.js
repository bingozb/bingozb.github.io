(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{349:function(a,t,r){"use strict";r.r(t);var s=r(4),e=Object(s.a)({},(function(){var a=this,t=a.$createElement,r=a._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[r("h2",{attrs:{id:"前言"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[a._v("#")]),a._v(" 前言")]),a._v(" "),r("p",[a._v("为了越狱，真是操碎了心。不过，这确实是一段有意义的回忆，若干年后，当 iPhone 出到十几代的时候，回头再来看看，肯定会很有感触。")]),a._v(" "),r("h2",{attrs:{id:"回想当年"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#回想当年"}},[a._v("#")]),a._v(" 回想当年")]),a._v(" "),r("p",[a._v("我上一次玩越狱大概是在2012年，那时候 iPhone 4s 刚刚面世，我就买了一部。对于一个高中生，3750元简直是天价。真果粉的我，靠玩游戏赚钱，每天大概一小时收入20块，（每天也就一小时），积累了数月后，带着3700元去到手机店，差50元是跟我爸借的。")]),a._v(" "),r("p",[a._v("从那一刻开始，我就定下了人生的一个原则：作为一个真果粉，苹果可以买买买，但要靠自己，不能向家里人要钱。 我现在已经拥有六件苹果设备，无一例外都遵循这个原则。")]),a._v(" "),r("p",[a._v("那时候我身边的朋友们大部分是买 iPhone 4，iOS 系统是 5.0 左右的版本，有些朋友特别喜欢 iOS 5.5。我买 4s 的时候内置了 6.1.0，后来我升到了 6.1.2，是 iOS 6 系列最后一个能越狱的版本。我记得我姐后来也买了一部，那时候出厂已经是 6.1.3，不能越狱了。")]),a._v(" "),r("p",[a._v("想当年，改主题、改状态栏，把运营商如“中国移动”改为自定义的文字，图案等，电池显示样式也可以随机改、改锁屏页，充电时候屏幕中间的绿色电池可以改成其他样式，“滑动来解锁”的字可以改得闪闪发光，可以在中文语言状态下把这些字改成自定义的英文，向右滑动解锁可以改成向上；各种插件，自定义手势，屏幕左划一下打开QQ，屏幕右划一下打开电话，屏幕上划打开后台管理等等。那时候玩越狱，完全就可以把 iPhone 当安卓来玩，完全自定义，没有办不到的事。")]),a._v(" "),r("p",[a._v("当初越狱最早的初衷只是为了一个九宫格输入法，相信很多人都跟我一样。进了门之后才发现是一个新世界，自由的世界，甚至天堂。不需要 Apple ID，应用可以随便下，App Store 里面收费的应用或者游戏都可以免费下。那时候，大部分人买手机就会选择越狱，那以及是主流用户习惯。后来，iOS 7 出来的时候，自带的输入法已经支持九宫格了，这让一大波越狱用户“改邪归正”，“越狱还有什么用”之类的党派之争也随之而来，当然，对这种事情我们当然是保留自己的看法就好。所以，我坚持不升级，一直到 iPhone 6 出现，带来了 iOS 9 系列。从未体验过 iOS 7 的我，跳过了 iOS 7 和 iOS 8，直接把我的 iPhone 4s 升级到了 iOS 9.0。")]),a._v(" "),r("p",[a._v("那时的我，是多么固执！越过了两个大版本的系统，坚持不升级。某一天，心血来潮，在监狱外面呆久了，突然想回到牢里去，于是我就升级了。就是这么一升，回不去了！苹果关闭了低版本的固件验证，再也刷不回低版本了，我的 iOS 6 啊！那可是最流畅的系统版本，没有之一。看那夕阳下的奔跑，那是我逝去的青春~")]),a._v(" "),r("p",[a._v("所以，最终的结局就是我的4s变得卡得要命，刷不回去，废了。次年9月苹果发布 iPhone 6s，我在双十一用奖学金买了一部 iPhone 6s plus，64G 土豪金，当时官网价格是 7188，趁着双十一活动 6588 拿下了它。")]),a._v(" "),r("h2",{attrs:{id:"现在"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#现在"}},[a._v("#")]),a._v(" 现在")]),a._v(" "),r("p",[a._v("为什么要说上面的经历呢，除了留作我个人回忆，还有就是因为那个时候越狱玩的东西，跟我现在要做的事情息息相关。也正是那时候玩过，现在的理解才会跟别人有差异。现在大部分人都不懂越狱是什么东西，只有一个模糊的概念，毕竟近些年已经渐渐没听到这个词了。")]),a._v(" "),r("p",[a._v("其实，越狱，简单地讲，就是 iOS 系统被黑了，被破解了。")]),a._v(" "),r("p",[a._v("高手在民间，从太极到盘古，再到如今的卢卡斯，都在打苹果的脸。连苹果自己都无法阻止被黑，那么上架到 app Store 上面的 app 就一定安全吗？我看不见得吧，即便苹果帮我们的 ipa 穿上了一层战衣，但还是挡不住有心人。敲壳、反编译等等逆向工程的我会慢慢写文章来记录。")]),a._v(" "),r("p",[a._v("先要知道如何攻击，才能知道如何防守。而这一切，都跟越狱有关，比如许多操作需要越狱设备开启 SSH 通道，电脑连上越狱设备后通过终端命令行运行objc代码等等。那么就将越狱作为安全攻防的开端吧。")]),a._v(" "),r("p",[a._v("废话不多说，马上开始越狱吧。")]),a._v(" "),r("h2",{attrs:{id:"越狱"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#越狱"}},[a._v("#")]),a._v(" 越狱")]),a._v(" "),r("h3",{attrs:{id:"下载安装越狱工具"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#下载安装越狱工具"}},[a._v("#")]),a._v(" 下载安装越狱工具")]),a._v(" "),r("ul",[r("li",[a._v("Cydia Impactor\n"),r("ul",[r("li",[r("a",{attrs:{href:"https://cdn.bingo.ren/app/impactor_0.9.38.dmg",target:"_blank",rel:"noopener noreferrer"}},[a._v("Cydia Impactor for Mac"),r("OutboundLink")],1)]),a._v(" "),r("li",[r("a",{attrs:{href:"https://cdn.bingo.ren/app/Impactor_0.9.38.zip",target:"_blank",rel:"noopener noreferrer"}},[a._v("Cydia Impactor for Windows"),r("OutboundLink")],1)])])]),a._v(" "),r("li",[r("a",{attrs:{href:"https://cdn.bingo.ren/app/yalu102_beta7.ipa",target:"_blank",rel:"noopener noreferrer"}},[a._v("yalu102_beta7.ipa"),r("OutboundLink")],1)])]),a._v(" "),r("h3",{attrs:{id:"加载-ipa"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#加载-ipa"}},[a._v("#")]),a._v(" 加载 ipa")]),a._v(" "),r("p",[a._v("以 mac 为例，手机连上电脑后，软件会读取到手机信息，把 yalu102_beta7.ipa 拖入软件中。")]),a._v(" "),r("p",[r("img",{attrs:{src:"images/blog/18/impactor.png",alt:"impactor"}})]),a._v(" "),r("h3",{attrs:{id:"输入-apple-id-和-密码"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#输入-apple-id-和-密码"}},[a._v("#")]),a._v(" 输入 Apple ID 和 密码")]),a._v(" "),r("p",[a._v("输入 apple ID，然后输入密码")]),a._v(" "),r("p",[r("img",{attrs:{src:"images/blog/18/password.png",alt:"password"}})]),a._v(" "),r("p",[a._v("注意，这个密码可以是 Apple ID 的密码，但不能开启双重验证，否则会报错。")]),a._v(" "),r("p",[r("img",{attrs:{src:"images/blog/18/error.png",alt:"error"}})]),a._v(" "),r("p",[a._v("如果不想关闭双重验证，为了安全着想确实不应该关闭，那么可以去 "),r("a",{attrs:{href:"https://appleid.apple.com/account/manage",target:"_blank",rel:"noopener noreferrer"}},[a._v("苹果ID官网"),r("OutboundLink")],1),a._v(" 安全 那里申请 App 专用密码。")]),a._v(" "),r("p",[r("img",{attrs:{src:"images/blog/18/appleid_password.png",alt:"appleid_appPwd"}})]),a._v(" "),r("p",[a._v("然后重新按照前面的步骤，到输入密码那一步的时候，输入刚刚生成的密码，注意大小写。")]),a._v(" "),r("p",[a._v("接着会出现一个警告，如果看到这个警告基本就没什么问题了。")]),a._v(" "),r("p",[r("img",{attrs:{src:"images/blog/18/warning.png",alt:"warning"}})]),a._v(" "),r("p",[a._v("警告的意思是，接下来会废除并替换掉这个账号所有的证书，也就是以前的证书会全部失效，最直接的结果就是原本 iCloud 登录了这个账号，会被要求重新输入密码重新登录。其它的证书暂时没发现有什么影响。")]),a._v(" "),r("h3",{attrs:{id:"安装成功"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#安装成功"}},[a._v("#")]),a._v(" 安装成功")]),a._v(" "),r("p",[a._v("点击 OK 后，就会一直自动执行到安装 ipa 成功。其中包括了用刚刚输入的 Apple ID 对 ipa 进行签名，有效期为7天。然后安装 ipa 到所连接的手机中，最后看到 complete 的时候就安装完成了。这个时候看手机，可以看到有一个 app 名字为 yalu102，icon 是灰色的金三胖。")]),a._v(" "),r("h3",{attrs:{id:"授权验证"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#授权验证"}},[a._v("#")]),a._v(" 授权验证")]),a._v(" "),r("p",[a._v("这个时候还不能打开，需要先信任开发者。点击设置 - 通用 - 设备管理，就可以看到开发者应用下面有一个刚刚输入的 Apple ID，点击进入详情界面，再点击验证即可。")]),a._v(" "),r("h3",{attrs:{id:"开始越狱"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#开始越狱"}},[a._v("#")]),a._v(" 开始越狱")]),a._v(" "),r("p",[a._v("验证成功后，打开 yalu102，点击屏幕中的 go，即可开始越狱。完成的时候会自动重启，重启后 Cydia 就出来了，越狱完成。")]),a._v(" "),r("h3",{attrs:{id:"完成越狱"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#完成越狱"}},[a._v("#")]),a._v(" 完成越狱")]),a._v(" "),r("p",[a._v("由于操作都很简单，直接截最终的效果：")]),a._v(" "),r("p",[r("img",{attrs:{src:"images/blog/18/home.png",width:"300"}}),a._v(" "),r("img",{attrs:{src:"images/blog/18/cydia.png",width:"300"}})]),a._v(" "),r("h2",{attrs:{id:"补充"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#补充"}},[a._v("#")]),a._v(" 补充")]),a._v(" "),r("p",[a._v("越狱后需要安装一个补丁，否则无法访问系统文件，如果你没有这个需求，那我就很好奇你干嘛要越狱了。")]),a._v(" "),r("p",[a._v('cydia 之父发布了支持 iOS 7.1.2 系统的 Afc 补丁，取名为“Apple File Conduit "2" ”，与 afc2add 服务补丁功能一样，都是为了解决 iOS 7.x 越狱后无法访问系统文件（越狱）的问题，大家可以直接在PP助手源上上安装最新的 Afc 补丁')]),a._v(" "),r("h3",{attrs:{id:"打补丁前的文件系统"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#打补丁前的文件系统"}},[a._v("#")]),a._v(" 打补丁前的文件系统")]),a._v(" "),r("p",[a._v("电脑上选择一款管理软件，比如PP助手、iTools等。我选择 iTools，因为我的虚拟机打开PP助手的时候总是提示我的文档的权限有问题，可能是跟虚拟机 Parallels Desktop 不兼容吧。")]),a._v(" "),r("p",[a._v("先看看安装补丁前的文件目录，文件系统下面只有用户系统。")]),a._v(" "),r("p",[r("img",{attrs:{src:"images/blog/18/iTools.png",alt:"iTools"}})]),a._v(" "),r("h3",{attrs:{id:"开始打补丁"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#开始打补丁"}},[a._v("#")]),a._v(" 开始打补丁")]),a._v(" "),r("p",[a._v("首先打开手机上的 Cydia，选择底部的软件源，点击右上角的编辑，然后添加PP助手源。")]),a._v(" "),r("p",[r("img",{attrs:{src:"images/blog/18/cydia1.png",width:"300"}}),a._v(" "),r("img",{attrs:{src:"images/blog/18/cydia2.png",width:"300"}})]),a._v(" "),r("p",[a._v('添加完毕后在软件源中找到“PP助手源”，选择“全部软件包”，然后选择 Apple File Conduit "2" 。')]),a._v(" "),r("p",[r("img",{attrs:{src:"images/blog/18/cydia3.png",width:"300"}}),a._v(" "),r("img",{attrs:{src:"images/blog/18/cydia4.png",width:"300"}})]),a._v(" "),r("p",[a._v("点击进入详情，并点击右上角的安装即可完成。")]),a._v(" "),r("p",[r("img",{attrs:{src:"images/blog/18/cydia5.png",width:"300"}}),a._v(" "),r("img",{attrs:{src:"images/blog/18/cydia6.png",width:"300"}})]),a._v(" "),r("h3",{attrs:{id:"打补丁后的文件系统"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#打补丁后的文件系统"}},[a._v("#")]),a._v(" 打补丁后的文件系统")]),a._v(" "),r("p",[a._v("最后重新打开iTools，看看打完补丁的文件系统，就可以看到越狱系统了。")]),a._v(" "),r("p",[r("img",{attrs:{src:"images/blog/18/iTools1.png",alt:"iTools"}})]),a._v(" "),r("h2",{attrs:{id:"后话"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#后话"}},[a._v("#")]),a._v(" 后话")]),a._v(" "),r("p",[a._v("至此，一部64位的iPhone，iOS 10.2 就越狱成功了，也可以访问到系统文件了。但是，正如标题所说，这是非完美越狱。也就是说，重启手机后，打开 Cydia 就闪退了，需要打开 yalu102 重新越狱。不过还好，过程还是挺快的。")]),a._v(" "),r("h2",{attrs:{id:"参考"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[a._v("#")]),a._v(" 参考")]),a._v(" "),r("p",[r("a",{attrs:{href:"http://bbs.25pp.com/thread-225764-1-1.html",target:"_blank",rel:"noopener noreferrer"}},[a._v('Apple File Conduit"2"补丁安装教程'),r("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=e.exports}}]);