(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{381:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[a("img",{attrs:{src:"/images/blog/55/architecture.png",alt:"frp"}})]),s._v(" "),a("h2",{attrs:{id:"å‰è¨€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[s._v("#")]),s._v(" å‰è¨€")]),s._v(" "),a("p",[s._v("frp æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„åå‘ä»£ç†åº”ç”¨ï¼Œå¯ä»¥è½»æ¾åœ°è¿›è¡Œå†…ç½‘ç©¿é€ï¼Œå¯¹å¤–ç½‘æä¾›æœåŠ¡ï¼Œæ”¯æŒ TCPã€UDPã€HTTPã€HTTPS ç­‰åè®®ç±»å‹ï¼Œå¹¶ä¸” web æœåŠ¡æ”¯æŒæ ¹æ®åŸŸåè¿›è¡Œè·¯ç”±è½¬å‘ã€‚")]),s._v(" "),a("p",[s._v("Github: https://github.com/fatedier/frp")]),s._v(" "),a("h2",{attrs:{id:"å®‰è£…frp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…frp"}},[s._v("#")]),s._v(" å®‰è£…frp")]),s._v(" "),a("p",[s._v("Releases: "),a("a",{attrs:{href:"https://github.com/fatedier/frp/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/fatedier/frp/releases"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("å¯ä»¥ç›´æ¥ä¸‹è½½ç¼–è¯‘å¥½çš„å‹ç¼©åŒ…ï¼Œåœ¨ Releases é¡µé¢ä¸­æ‰¾åˆ°å¯¹åº”å¹³å°çš„å‹ç¼©åŒ…ï¼Œè§£å‹åå°±å¯ä»¥ç›´æ¥ç”¨ï¼Œæˆ–è€…è‡ªå·±ä¸‹è½½æºç ç¼–è¯‘ã€‚")]),s._v(" "),a("p",[s._v("ä¸ºäº†è¡¨ç¤ºå¯¹ä½œè€…çš„å°Šæ•¬ï¼Œæˆ‘å†³å®šç”¨ GO ç¼–è¯‘ã€‚")]),s._v(" "),a("h3",{attrs:{id:"æ­å»ºgoç¯å¢ƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ­å»ºgoç¯å¢ƒ"}},[s._v("#")]),s._v(" æ­å»ºGOç¯å¢ƒ")]),s._v(" "),a("h4",{attrs:{id:"å®‰è£…ä¾èµ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…ä¾èµ–"}},[s._v("#")]),s._v(" å®‰è£…ä¾èµ–")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Ubuntu")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" bison ed "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("gawk")]),s._v(" gcc libc6-dev "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# CentOS")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" gcc\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"ä¸‹è½½goæ”¯æŒåŒ…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‹è½½goæ”¯æŒåŒ…"}},[s._v("#")]),s._v(" ä¸‹è½½goæ”¯æŒåŒ…")]),s._v(" "),a("p",[s._v("å„ç‰ˆæœ¬çš„ä¸‹è½½åœ°å€ "),a("a",{attrs:{href:"https://www.golangtc.com/static/go/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.golangtc.com/static/go/"),a("OutboundLink")],1),s._v("ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯å½“å‰æœ€æ–°çš„"),a("code",[s._v("1.9rc2")]),s._v("ã€‚")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://www.golangtc.com/static/go/1.9rc2/go1.9rc2.linux-amd64.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"è§£å‹goåŒ…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è§£å‹goåŒ…"}},[s._v("#")]),s._v(" è§£å‹goåŒ…")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -C /usr/local -xzf go1.9rc2.linux-amd64.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"æ·»åŠ ç¯å¢ƒå˜é‡å’Œgoå·¥ä½œåŒº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ·»åŠ ç¯å¢ƒå˜é‡å’Œgoå·¥ä½œåŒº"}},[s._v("#")]),s._v(" æ·»åŠ ç¯å¢ƒå˜é‡å’Œgoå·¥ä½œåŒº")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/profile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("åœ¨æ–‡ä»¶çš„åº•éƒ¨æ·»åŠ ä»¥ä¸‹ä¸¤è¡Œï¼š")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v(":/usr/local/go/bin  \n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GOPATH")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/gopath\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("code",[s._v(":wq")]),s._v(" ä¿å­˜é€€å‡ºåï¼Œé‡æ–°åŠ è½½ç¯å¢ƒå˜é‡")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/profile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"æµ‹è¯•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æµ‹è¯•"}},[s._v("#")]),s._v(" æµ‹è¯•")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /usr/local/gopath "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/gopath\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" test.go\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("ç®€å•çš„æ‰“å°æµ‹è¯•ï¼š")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" main\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fmt"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   fmt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello World!"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("ä½¿ç”¨goç¼–è¯‘è¿è¡Œï¼š")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ go run test.go\nHello World"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("è‡³æ­¤ï¼Œgoç¯å¢ƒæ­å»ºå®Œæ¯•ã€‚")]),s._v(" "),a("h3",{attrs:{id:"ä¸‹è½½ç¼–è¯‘frp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‹è½½ç¼–è¯‘frp"}},[s._v("#")]),s._v(" ä¸‹è½½ç¼–è¯‘frp")]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),s._v(" get github"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("fatedier"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("frp \n$ cd "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("gopath"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("src"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("github"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("fatedier"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("frp"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("make")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®"}},[s._v("#")]),s._v(" é…ç½®")]),s._v(" "),a("h3",{attrs:{id:"åˆ›å»ºfrpsé…ç½®æ–‡ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ›å»ºfrpsé…ç½®æ–‡ä»¶"}},[s._v("#")]),s._v(" åˆ›å»ºfrpsé…ç½®æ–‡ä»¶")]),s._v(" "),a("p",[a("code",[s._v("make")]),s._v(" ç¼–è¯‘å®Œæˆåï¼Œ"),a("code",[s._v("frp")]),s._v("é‡Œä¼šå¤šå‡ºä¸€ä¸ª"),a("code",[s._v("bin")]),s._v("ç›®å½•ï¼Œæ”¾ç€"),a("code",[s._v("frpc")]),s._v("å’Œ"),a("code",[s._v("frps")]),s._v("ï¼Œå¯¹åº”å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚æœåŠ¡ç«¯ä¸Šåªéœ€è¦ç”¨åˆ° "),a("code",[s._v("frps")]),s._v("ï¼Œå¯ä»¥åˆ æ‰ "),a("code",[s._v("frpc")]),s._v("ï¼Œå®¢æˆ·ç«¯åˆ™ç›¸åã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜éœ€è¦ä¸€ä¸ªé…ç½®æ–‡ä»¶ã€‚")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf frpc\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" frps.ini\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("è¯¦ç»†çš„é…ç½®è¯·çœ‹ "),a("a",{attrs:{href:"https://github.com/fatedier/frp/blob/master/README_zh.md",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/fatedier/frp/blob/master/README_zh.md"),a("OutboundLink")],1),s._v("ï¼Œå®˜æ–¹çš„ README ä»‹ç»å¾—éå¸¸è¯¦ç»†ã€‚æˆ‘å†æ€ä¹ˆå†™ä¹Ÿæ²¡æœ‰å®˜æ–¹çš„ä»‹ç»æ›´è¯¦ç»†ï¼Œè¿™é‡Œç›´æ¥è´´æˆ‘çš„é…ç½®ã€‚")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# frps.ini\n[common]\nbind_addr = 0.0.0.0\nbind_port = 7001\nvhost_http_port = 6666\ndashboard_port = 7501\ndashboard_user = {username}\ndashboard_pwd = {password}\nauth_token = {token}\nprivilege_token = {privilege_token}\nprivilege_mode = true\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("æˆ‘å¼€å¯äº†"),a("code",[s._v("privilege_mode")]),s._v("ï¼Œä¹Ÿå°±æ˜¯å¼€å¯äº†ç‰¹æƒæ¨¡å¼ï¼Œè¿™æ ·æœåŠ¡ç«¯å°±ä¸å†éœ€è¦é…ç½®æ¯ä¸€æ¡è¯¸å¦‚ tcpã€http ç­‰çš„éš§é“ï¼Œåªéœ€è¦æŠŠè¿™ä¸ª frps æœåŠ¡å¯åŠ¨å³å¯ã€‚")]),s._v(" "),a("h3",{attrs:{id:"è¿è¡ŒæœåŠ¡ç«¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¿è¡ŒæœåŠ¡ç«¯"}},[s._v("#")]),s._v(" è¿è¡ŒæœåŠ¡ç«¯")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ ./frps -c frps.ini\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2017")]),s._v("/09/23 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":28:00 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("I"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("service.go:83"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" frps tcp listen on "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:7001\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2017")]),s._v("/09/23 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":28:00 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("I"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("service.go:108"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" http "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" listen on "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:6666\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2017")]),s._v("/09/23 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":28:00 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("I"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("service.go:134"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Dashboard listen on "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:7501\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2017")]),s._v("/09/23 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":28:00 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("I"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("main.go:112"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Start frps success\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2017")]),s._v("/09/23 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":28:00 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("I"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("main.go:114"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" PrivilegeMode is enabled, you should pay "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" attention to security issues\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("ä¸€èˆ¬ä¼šæŒ‚åœ¨åå°è¿è¡Œè¿™ä¸ªæœåŠ¡ï¼Œå¯ä»¥ç”¨ nohupï¼š")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" ./frps -c frps.ini "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("/dev/null "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("ä¹Ÿè®¸æˆ‘æœ‰å¼ºè¿«ç—‡ï¼Œæˆ‘å¾ˆè®¨åŒç”Ÿæˆçš„ nohup.outï¼Œæ‰€ä»¥ä½¿ç”¨ "),a("code",[s._v(">/dev/null 2>&1")]),s._v(" æ¥é¿å… shell å‘½ä»¤è¿è¡Œä¸­æœ‰å†…å®¹è¾“å‡ºã€‚")]),s._v(" "),a("p",[s._v("æŠŠ frps æœåŠ¡è·‘èµ·æ¥åï¼Œå…¬ç½‘æœåŠ¡å™¨çš„é…ç½®å°±å…¨éƒ¨æå®Œäº†ï¼Œå½“ç„¶ï¼Œè¿˜å¾—æç‚¹æ‰‹è„šï¼Œè®©æœåŠ¡å™¨å¼€æœºè‡ªåŠ¨å¯åŠ¨è¿™ä¸ªæœåŠ¡ï¼Œå¦åˆ™æœåŠ¡å™¨é‡å¯å°±æ–­å¼€äº†ã€‚è¿™ä¸ªåœ¨ NAT å®¢æˆ·ç«¯ä¸Šä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œæ”¾åˆ°åé¢è®²ã€‚")]),s._v(" "),a("h3",{attrs:{id:"åˆ›å»ºfrpcé…ç½®æ–‡ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ›å»ºfrpcé…ç½®æ–‡ä»¶"}},[s._v("#")]),s._v(" åˆ›å»ºfrpcé…ç½®æ–‡ä»¶")]),s._v(" "),a("p",[s._v("æ¥ä¸‹æ¥ï¼Œéœ€è¦åœ¨å†…ç½‘ä¸­çš„å®¢æˆ·ç«¯åšåŒæ ·çš„æ“ä½œï¼Œæ­å»ºgoç¯å¢ƒï¼ˆå¦‚æœä½ æœ‰å…´è¶£çš„è¯ï¼‰ã€ä¸‹è½½ç¼–è¯‘frpï¼Œå”¯ä¸€ä¸åŒçš„å°±æ˜¯åè¿‡æ¥åˆ é™¤ frpsï¼Œä¿ç•™ frpcã€‚")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf frps\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" frpc.ini\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("ç”±äºå¼€å¯äº†ç‰¹æƒæ¨¡å¼ï¼Œæ‰€ä»¥ï¼Œæ‰€æœ‰çš„éš§é“éƒ½å¯ä»¥ç›´æ¥åœ¨ frpc.ini é‡Œé…ç½®ã€‚åŒæ ·ï¼Œç›´æ¥è´´ä¸Šæˆ‘çš„é…ç½®ã€‚")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# frpc.ini\n[common]\nserver_addr = 120.76.207.187\nserver_port = 7001\nauth_token = {token}\nprivilege_token = {privilege_token}\n\n[bingo_pi_web]\ntype = http\nlocal_port = 80\nremote_port = 6666\ncustom_domains = pi.bingo.ren\n\n[ssh]\ntype = tcp\nlocal_port = 22\nremote_port = 3692\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[s._v("è¿™é‡Œæˆ‘é…ç½®äº†ä¸¤æ¡éš§é“ï¼Œä¸€æ¡æ˜¯ http ç±»å‹çš„ï¼Œä¸€æ¡æ˜¯ tcp çš„ã€‚ç„¶åï¼Œå¼€å¯ frpc æœåŠ¡å³å¯ã€‚")]),s._v(" "),a("h3",{attrs:{id:"è¿è¡Œå®¢æˆ·ç«¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¿è¡Œå®¢æˆ·ç«¯"}},[s._v("#")]),s._v(" è¿è¡Œå®¢æˆ·ç«¯")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" ./frpc -c frpc.ini "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("/dev/null "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"è®¾ç½®frpæœåŠ¡å¼€æœºè‡ªå¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è®¾ç½®frpæœåŠ¡å¼€æœºè‡ªå¯"}},[s._v("#")]),s._v(" è®¾ç½®frpæœåŠ¡å¼€æœºè‡ªå¯")]),s._v(" "),a("p",[s._v("åªéœ€è¦åœ¨ "),a("code",[s._v("/etc/rc.local")]),s._v(" æ–‡ä»¶çš„æœ€åï¼Œæ·»åŠ  frp æœåŠ¡çš„å¯åŠ¨å‘½ä»¤å³å¯ã€‚")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("$ vim /etc/rc.local\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("code",[s._v("exit 0")]),s._v(" æ˜¯è„šæœ¬é€€å‡ºçš„æ„æ€ï¼Œåªè¦å°†å‘½ä»¤åŠ åœ¨ "),a("code",[s._v("exit 0")]),s._v(" ä¹‹å‰å°±å¯ä»¥å¼€æœºå¯åŠ¨äº†ã€‚")]),s._v(" "),a("p",[s._v("æœåŠ¡ç«¯ï¼Œè®¾ç½®å¼€æœºè‡ªå¯ frps æœåŠ¡ã€‚")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" /usr/local/gopath/src/github.com/fatedier/frp/bin/frps -c /usr/local/gopath/src/github.com/fatedier/frp/bin/frps.ini "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("/dev/null "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("å®¢æˆ·ç«¯ï¼Œè®¾ç½®å¼€æœºè‡ªå¯ frpc æœåŠ¡ã€‚")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" /usr/local/etc/frp_0.13.0_linux_arm/frpc -c /usr/local/etc/frp_0.13.0_linux_arm/frpc.ini "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("/dev/null "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("è®¾ç½®å®Œ reboot é‡å¯ä¸€ä¸‹ï¼Œå°±ä¼šå‘ç° frp æœåŠ¡å·²ç»è‡ªåŠ¨å¯åŠ¨äº†ã€‚")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" frp\nroot       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("570")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":29 ?        00:00:00 /usr/local/etc/frp_0.13.0_linux_arm/frpc -c /usr/local/etc/frp_0.13.0_linux_arm/frpc.ini\nroot       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("856")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("806")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":30 pts/0    00:00:00 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" --color frp\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"æµ‹è¯•-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æµ‹è¯•-2"}},[s._v("#")]),s._v(" æµ‹è¯•")]),s._v(" "),a("p",[s._v("ç»è¿‡ä»¥ä¸Šé…ç½®ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œåœ¨ä»»ä½•è®¾å¤‡ä¸Šï¼Œè®¿é—® "),a("a",{attrs:{href:"https://pi.bingo.ren",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://pi.bingo.ren"),a("OutboundLink")],1),s._v("ï¼Œå°±å¯ä»¥è®¿é—®åˆ°å†…ç½‘ 80 ç«¯å£çš„ HTTP æœåŠ¡ã€‚")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" https://pi.bingo.ren\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("html"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("head"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("meta "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("charset")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"utf-8"')]),s._v("/"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/head"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("body"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("h"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v("This is index page of Bingo's Raspberry PI. ğŸº "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/h"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/body"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/html"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("ä¹Ÿå¯ä»¥åœ¨ä»»ä½•è®¾å¤‡ä¸Šé€šè¿‡ 3692 ç«¯å£è¿ä¸Šå†…ç½‘çš„ sshd æœåŠ¡ã€‚")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3692")]),s._v(" root@pi.bingo.ren\nLinux bingo "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.9")]),s._v(".41-v7+ "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1023 SMP Tue Aug 8 16:00:15 BST 2017 armv7l")]),s._v("\nLast login: Sat Sep "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":23:29 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2017")]),s._v(" from "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1\nroot@bingo:~"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("å¦‚æœç©¿é€å¤±è´¥ï¼Œè¯·ä¼˜å…ˆæ£€æŸ¥ä¸¤å°æœåŠ¡å™¨ä¸Šçš„ iptablesï¼Œçœ‹æ˜¯å¦æœ‰ç«¯å£æ²¡æœ‰å¼€æ”¾ã€‚ç¡®å®šä¸æ˜¯é˜²ç«å¢™çš„é—®é¢˜åï¼Œå†ä¸€æ­¥ä¸€æ­¥æ’æŸ¥é—®é¢˜ã€‚")]),s._v(" "),a("h2",{attrs:{id:"è¡¥å……"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¡¥å……"}},[s._v("#")]),s._v(" è¡¥å……")]),s._v(" "),a("p",[s._v("è´´ä¸€ä¸‹ Nginx çš„é…ç½®ã€‚")]),s._v(" "),a("div",{staticClass:"language-nginx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pi.bingo.ren.conf")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("listen")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("listen")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("443")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ssl")]),s._v(" http2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ssl_certificate")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("conf"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ssl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("pi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bingo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ren"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("crt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ssl_certificate_key")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("conf"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ssl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("pi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bingo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ren"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ssl_protocols")]),s._v(" TLSv1 TLSv1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" TLSv1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ssl_ciphers")]),s._v(" EECDH"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("CHACHA20"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("EECDH"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("AES128"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("RSA"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("AES128"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("EECDH"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("AES256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("RSA"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("AES256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("EECDH"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("DES"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("RSA"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("DES"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("MD5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ssl_prefer_server_ciphers")]),s._v(" on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ssl_session_timeout")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ssl_session_cache")]),s._v(" builtin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" shared"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SSL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  ssl_buffer_size "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1400")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add_header")]),s._v(" Strict"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Transport"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Security max"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("age"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15768000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ssl_stapling")]),s._v(" on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ssl_stapling_verify")]),s._v(" on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server_name")]),s._v(" pi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bingo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ren"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("access_log")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("data"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("wwwlogs"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("pi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bingo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ren_nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("log combined"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("html "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("htm "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jsp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("root")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("data"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("wwwroot"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("pi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bingo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ren"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("proxy_pass")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("http")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6666")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("include")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("proxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("p",[s._v("ç”¨ Nginx åå‘ä»£ç†äº† frp çš„ http æœåŠ¡ï¼Œè½¬å‘åˆ° frps.ini ä¸­é…ç½®çš„ "),a("code",[s._v("vhost_http_port")]),s._v(" 6666 ç«¯å£ã€‚")]),s._v(" "),a("p",[s._v("æˆ‘é‡åˆ°äº†ä¸€ä¸ªå‘ï¼Œæˆ‘åœ¨ README ä¸­çœ‹åˆ°äº† "),a("code",[s._v("vhost_https_port")]),s._v("ï¼Œä»¥ä¸º HTTP è¯·æ±‚å…¨éƒ¨èµ° "),a("code",[s._v("vhost_http_port")]),s._v(" ç«¯å£ï¼Œè€Œ HTTPS è¯·æ±‚éœ€è¦èµ° "),a("code",[s._v("vhost_https_port")]),s._v(" ç«¯å£ã€‚")]),s._v(" "),a("p",[s._v("äºæ˜¯ï¼Œåœ¨é…ç½® Nginx çš„æ—¶å€™å°±æŠŠ "),a("code",[s._v("listen 80")]),s._v(" å’Œ "),a("code",[s._v("listen 443")]),s._v(" å†™æˆä¸¤ä¸ª serverã€‚ 80 ç«¯å£çš„è¯·æ±‚è½¬å‘åˆ° "),a("a",{attrs:{href:"#"}},[s._v("http://127.0.0.1:6666")]),s._v("ï¼Œ443 ç«¯å£çš„è¯·æ±‚è½¬å‘åˆ° "),a("a",{attrs:{href:"#"}},[s._v("https://127.0.0.1:8443")]),s._v("ã€‚")]),s._v(" "),a("p",[s._v("ç†è®ºä¸Šä¼¼ä¹å¯è¡Œï¼Œä½†è¿è¡Œèµ·æ¥åï¼Œ HTTPS ç©¿é€å¤±è´¥äº†ï¼Œä¸€ç›´éƒ½å‡ºç° 502 å¼‚å¸¸ã€‚Github ä¸Šçš„ å…³äºã€Œnginx åä»£ frp Https 502ã€çš„ issues æœ‰å¥½å‡ ä¸ªï¼Œä½†éƒ½æ²¡æœ‰è§£å†³çš„æ–¹æ¡ˆã€‚ä½œè€…è®¤ä¸ºï¼Œä¸ä½¿ç”¨ Nginx ç›´æ¥è¯·æ±‚ frps çš„ https ç«¯å£æ˜¯æ­£å¸¸çš„ï¼Œæ‰€ä»¥é—®é¢˜åº”è¯¥æ˜¯åœ¨ nginx é‚£è¾¹ï¼Œä»–ä¼¼ä¹å¯¹å¾ˆå¤šäººæè¿™ä¸ª issues æ„Ÿåˆ°å¾ˆåæ„Ÿå’Œæ— å¥ˆã€‚")]),s._v(" "),a("p",[s._v("åé¢æƒ³åˆ° Nginx çš„502æœ‰å¯èƒ½æ˜¯ SSL è¯ä¹¦çš„é—®é¢˜ï¼ŒNginx ä¼šéªŒè¯è¢«åä»£ç½‘ç«™çš„è¯ä¹¦ã€‚è¯•äº†ä¸€ä¸‹åä»£12306åŒæ ·å‡ºç°502ï¼Œè€Œæ¢æˆç™¾åº¦å°±å¯ä»¥æˆåŠŸè®¿é—®ã€‚æˆåŠŸé”å®šé—®é¢˜ï¼Œå°±æ˜¯å†…ç½‘çš„é‚£å°è®¾å¤‡æ²¡æœ‰ SSL è¯ä¹¦ã€‚")]),s._v(" "),a("p",[s._v("äºæ˜¯è¯•äº†ä¸€ä¸‹è‡ªç­¾ï¼Œä»ç„¶ä¼šå‡ºç°502ã€‚çœ‹æ¥è‡ªç­¾ä¹Ÿä¸è¡Œï¼Œä¼°è®¡ Nginx è¿˜ä¼šéªŒ CA è¯ä¹¦ï¼Œåªæœ‰æƒå¨æœºæ„é¢å‘çš„æ‰èƒ½éªŒè¯é€šè¿‡ã€‚")]),s._v(" "),a("p",[s._v("æ­£å½“æˆ‘æƒ³ç”¨ Let's Encryptï¼Œåˆ†ä¸€ä¸ªåŸŸåå»ç­¾çš„ SSL è¯ä¹¦çš„æ—¶å€™ï¼Œçªç„¶å‘ç°ï¼Œæˆ‘çš„å…¬ç½‘æœåŠ¡å™¨å·²ç»ç­¾äº†ä¸€ä¸ªè¯ä¹¦äº†ï¼Œä¸ºä»€ä¹ˆæˆ‘çš„å†…ç½‘æœåŠ¡å™¨è¿˜è¦å†ç­¾ä¸€ä¸ªï¼Ÿfrps å’Œ frpc çš„è¿æ¥é€šè®¯åº”è¯¥ä¸éœ€è¦ HTTPS äº†ï¼Œåˆä¸æ˜¯ç›´æ¥æš´éœ²çš„ã€‚")]),s._v(" "),a("p",[s._v("åªè¦å…¬ç½‘çš„åŸŸåä¸Šäº† SSL å°±å¤Ÿäº†ï¼Œä¸ç®¡è®¿é—®å…¬ç½‘æœåŠ¡å™¨çš„æ—¶å€™æ˜¯ http è¿˜æ˜¯ https è¯·æ±‚ï¼Œç»Ÿä¸€èµ° frp çš„ http éš§é“å³å¯ã€‚")]),s._v(" "),a("h2",{attrs:{id:"åè¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åè¯"}},[s._v("#")]),s._v(" åè¯")]),s._v(" "),a("p",[s._v("frp çš„æ›´å¤šç©æ³•æœ‰å¾…ç ”ç©¶ï¼Œç›®å‰å·²ç»æ»¡è¶³äº†æˆ‘çš„éœ€æ±‚ã€‚ä¸€èˆ¬æˆ‘å°±åªéœ€è¦ http å’Œ tcp éš§é“ï¼Œudp å•¥çš„ç­‰åˆ°æœ‰ä½¿ç”¨åœºæ™¯çš„æ—¶å€™å†è¯•è¯•ã€‚")]),s._v(" "),a("p",[s._v("è®°å¾—ä¹‹å‰åœ¨ç½‘ä¸Šçœ‹åˆ°ï¼Œfrp æ˜¯éœ€è¦ä½¿ç”¨è™šæ‹Ÿå†…å­˜çš„ï¼Œæˆ‘è¿˜æ²¡å»éªŒè¯å’Œé…ç½®ã€‚ç›®å‰æ²¡å‘ç°æœ‰ä»€ä¹ˆå¼‚å¸¸ï¼ŒMark ä¸€ä¸‹ï¼Œç­‰å‡ºé—®é¢˜å†è§£å†³å§ã€‚")])])}),[],!1,null,null,null);t.default=e.exports}}]);