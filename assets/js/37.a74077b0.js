(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{365:function(s,n,e){"use strict";e.r(n);var a=e(4),t=Object(a.a)({},(function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),e("p",[s._v("iOS 项目多人协作开发的时候，一言不合就有冲突。冷静分析，这里面有坑，有老梗，也有一些是可以规避的，.gitignore就是一个避免冲突的利器。")]),s._v(" "),e("h2",{attrs:{id:"gitignore"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#gitignore"}},[s._v("#")]),s._v(" .gitignore")]),s._v(" "),e("p",[s._v("在我们使用 git 的过程当中，不是任何文件都需要 commit 到本地或者远程仓库的，比如 Mac 的老梗 .DS_Store，看得是真的烦。一些第三方框架类库文件，很大，动不动就是几百M，还有用户个人元数据，包括断点信息等等，都没有必要提交。")]),s._v(" "),e("h3",{attrs:{id:"ds-store"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ds-store"}},[s._v("#")]),s._v(" .DS_Store")]),s._v(" "),e("p",[s._v("Mac 下的老梗 .DS_Store 文件我之前已经解决了，可以参考 "),e("a",{attrs:{href:"https://blog.bingo.ren/9.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("《解决讨厌的.DS_Store文件（上）》"),e("OutboundLink")],1),s._v(" 和 "),e("a",{attrs:{href:"https://blog.bingo.ren/10.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("《解决讨厌的.DS_Store文件（下）》"),e("OutboundLink")],1),s._v("。")]),s._v(" "),e("p",[s._v("虽然这个文件可以清除，但还是添加上去，反正也不亏。")]),s._v(" "),e("h3",{attrs:{id:"pods"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pods"}},[s._v("#")]),s._v(" Pods")]),s._v(" "),e("p",[s._v("以往我们都是 "),e("code",[s._v("Pod install")]),s._v(" 后就无脑把 Pods 全部提交到本地，然后推远程仓库，导致远程仓库项目非常大，clone 花了很长的时间，每次 "),e("code",[s._v("pod update")]),s._v(" 后 Push 代码也非常久。后来考虑了一下，觉得 Pods 这个目录可以不提交，甚至 "),e("code",[s._v("Podfile.lock")]),s._v(" 这个文件也可以不要，继而 "),e("code",[s._v(".xcworkspace")]),s._v(" 也可以不要，只要留一个 "),e("code",[s._v("Podfile")]),s._v(" 文件，并在里面指定每个依赖库的版本号就够了，只要团队的每个人都有 CocoaPods 环境，每个人 "),e("code",[s._v("pod install")]),s._v(" 后，在本地就能跑起来了。")]),s._v(" "),e("h3",{attrs:{id:"xcuserdata"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#xcuserdata"}},[s._v("#")]),s._v(" xcuserdata")]),s._v(" "),e("p",[s._v("在项目根目录下，一般有 "),e("code",[s._v(".xcodeproj")]),s._v(" 和 "),e("code",[s._v(".xcworkspace")]),s._v("文件，显示包内容可以看到都有 "),e("code",[s._v("xcuserdata")]),s._v(" 文件夹，然后里面放着 "),e("code",[s._v("username.xcuserdata")]),s._v("文件夹，再点进去就是 "),e("code",[s._v("UserInterfaceState.xcuserstate")]),s._v(" 和 "),e("code",[s._v("Breakpoints_v2.xcbkptlist")]),s._v("，这些都属于用户个人设置，像断点记录这样的文件肯定不能提交上去合并的，没有意义，也容易导致冲突。")]),s._v(" "),e("h3",{attrs:{id:"其它"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#其它"}},[s._v("#")]),s._v(" 其它")]),s._v(" "),e("p",[s._v("另外看情况将不需要的文件名，文件后缀，或者目录都可以添加到 .gitignore 中。比如做持续构建的时候，如果 Build 目录在项目中，可以将 "),e("code",[s._v("Build")]),s._v(" 目录 ignore 掉，也可以将 "),e("code",[s._v("*.ipa")]),s._v(" 忽略掉，空文件夹不会被跟踪，效果一样。具体可以根据自身项目需要进行修改。")]),s._v(" "),e("h3",{attrs:{id:"结合以上几点，简便配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#结合以上几点，简便配置"}},[s._v("#")]),s._v(" 结合以上几点，简便配置")]),s._v(" "),e("div",{staticClass:"language-objc line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# Xcode\n.DS_Store\nbuild\nreport.xml\n*.pbxuser\n!default.pbxuser\n*.mode1v3\n!default.mode1v3\n*.mode2v3\n!default.mode2v3\n*.perspectivev3\n!default.perspectivev3\nxcuserdata\n*.moved-aside\nDerivedData\n.idea/\n*.hmap\n*.xccheckout\n*.xcworkspace\n!default.xcworkspace\n\n#CocoaPods\nPods\nPodfile.lock\nxcschemes\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br")])]),e("h3",{attrs:{id:"gitignore-io-选择自定义配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#gitignore-io-选择自定义配置"}},[s._v("#")]),s._v(" gitignore.io 选择自定义配置")]),s._v(" "),e("p",[s._v("在 "),e("a",{attrs:{href:"https://gitignore.io",target:"_blank",rel:"noopener noreferrer"}},[s._v("gitignore.io"),e("OutboundLink")],1),s._v(" 输入需要配置的语言，会自动生成一份配置。比如，输入 Objective-C 和 Swift 会帮助你生成下面的配置。")]),s._v(" "),e("div",{staticClass:"language-objc line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# Created by https://www.gitignore.io/api/swift,objective-c\n\n### Objective-C ###\n# Xcode\n#\n# gitignore contributors: remember to update Global/Xcode.gitignore, Objective-C.gitignore & Swift.gitignore\n\n## Build generated\nbuild/\nDerivedData/\n\n## Various settings\n*.pbxuser\n!default.pbxuser\n*.mode1v3\n!default.mode1v3\n*.mode2v3\n!default.mode2v3\n*.perspectivev3\n!default.perspectivev3\nxcuserdata/\n\n## Other\n*.moved-aside\n*.xccheckout\n*.xcscmblueprint\n\n## Obj-C/Swift specific\n*.hmap\n*.ipa\n*.dSYM.zip\n*.dSYM\n\n# CocoaPods\n#\n# We recommend against adding the Pods directory to your .gitignore. However\n# you should judge for yourself, the pros and cons are mentioned at:\n# https://guides.cocoapods.org/using/using-cocoapods.html#should-i-check-the-pods-directory-into-source-control\n#\n# Pods/\n\n# Carthage\n#\n# Add this line if you want to avoid checking in source code from Carthage dependencies.\n# Carthage/Checkouts\n\nCarthage/Build\n\n# fastlane\n#\n# It is recommended to not store the screenshots in the git repo. Instead, use fastlane to re-generate the\n# screenshots whenever they are needed.\n# For more information about the recommended setup visit:\n# https://docs.fastlane.tools/best-practices/source-control/#source-control\n\nfastlane/report.xml\nfastlane/Preview.html\nfastlane/screenshots\nfastlane/test_output\n\n# Code Injection\n#\n# After new code Injection tools there's a generated folder /iOSInjectionProject\n# https://github.com/johnno1962/injectionforxcode\n\niOSInjectionProject/\n\n### Objective-C Patch ###\n\n### Swift ###\n# Xcode\n#\n# gitignore contributors: remember to update Global/Xcode.gitignore, Objective-C.gitignore & Swift.gitignore\n\n## Build generated\n\n## Various settings\n\n## Other\n\n## Obj-C/Swift specific\n\n## Playgrounds\ntimeline.xctimeline\nplayground.xcworkspace\n\n# Swift Package Manager\n#\n# Add this line if you want to avoid checking in source code from Swift Package Manager dependencies.\n# Packages/\n# Package.pins\n.build/\n\n# CocoaPods\n#\n# We recommend against adding the Pods directory to your .gitignore. However\n# you should judge for yourself, the pros and cons are mentioned at:\n# https://guides.cocoapods.org/using/using-cocoapods.html#should-i-check-the-pods-directory-into-source-control\n#\n# Pods/\n\n# Carthage\n#\n# Add this line if you want to avoid checking in source code from Carthage dependencies.\n# Carthage/Checkouts\n\n\n# fastlane\n#\n# It is recommended to not store the screenshots in the git repo. Instead, use fastlane to re-generate the\n# screenshots whenever they are needed.\n# For more information about the recommended setup visit:\n# https://docs.fastlane.tools/best-practices/source-control/#source-control\n\n\n# End of https://www.gitignore.io/api/swift,objective-c\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br"),e("span",{staticClass:"line-number"},[s._v("40")]),e("br"),e("span",{staticClass:"line-number"},[s._v("41")]),e("br"),e("span",{staticClass:"line-number"},[s._v("42")]),e("br"),e("span",{staticClass:"line-number"},[s._v("43")]),e("br"),e("span",{staticClass:"line-number"},[s._v("44")]),e("br"),e("span",{staticClass:"line-number"},[s._v("45")]),e("br"),e("span",{staticClass:"line-number"},[s._v("46")]),e("br"),e("span",{staticClass:"line-number"},[s._v("47")]),e("br"),e("span",{staticClass:"line-number"},[s._v("48")]),e("br"),e("span",{staticClass:"line-number"},[s._v("49")]),e("br"),e("span",{staticClass:"line-number"},[s._v("50")]),e("br"),e("span",{staticClass:"line-number"},[s._v("51")]),e("br"),e("span",{staticClass:"line-number"},[s._v("52")]),e("br"),e("span",{staticClass:"line-number"},[s._v("53")]),e("br"),e("span",{staticClass:"line-number"},[s._v("54")]),e("br"),e("span",{staticClass:"line-number"},[s._v("55")]),e("br"),e("span",{staticClass:"line-number"},[s._v("56")]),e("br"),e("span",{staticClass:"line-number"},[s._v("57")]),e("br"),e("span",{staticClass:"line-number"},[s._v("58")]),e("br"),e("span",{staticClass:"line-number"},[s._v("59")]),e("br"),e("span",{staticClass:"line-number"},[s._v("60")]),e("br"),e("span",{staticClass:"line-number"},[s._v("61")]),e("br"),e("span",{staticClass:"line-number"},[s._v("62")]),e("br"),e("span",{staticClass:"line-number"},[s._v("63")]),e("br"),e("span",{staticClass:"line-number"},[s._v("64")]),e("br"),e("span",{staticClass:"line-number"},[s._v("65")]),e("br"),e("span",{staticClass:"line-number"},[s._v("66")]),e("br"),e("span",{staticClass:"line-number"},[s._v("67")]),e("br"),e("span",{staticClass:"line-number"},[s._v("68")]),e("br"),e("span",{staticClass:"line-number"},[s._v("69")]),e("br"),e("span",{staticClass:"line-number"},[s._v("70")]),e("br"),e("span",{staticClass:"line-number"},[s._v("71")]),e("br"),e("span",{staticClass:"line-number"},[s._v("72")]),e("br"),e("span",{staticClass:"line-number"},[s._v("73")]),e("br"),e("span",{staticClass:"line-number"},[s._v("74")]),e("br"),e("span",{staticClass:"line-number"},[s._v("75")]),e("br"),e("span",{staticClass:"line-number"},[s._v("76")]),e("br"),e("span",{staticClass:"line-number"},[s._v("77")]),e("br"),e("span",{staticClass:"line-number"},[s._v("78")]),e("br"),e("span",{staticClass:"line-number"},[s._v("79")]),e("br"),e("span",{staticClass:"line-number"},[s._v("80")]),e("br"),e("span",{staticClass:"line-number"},[s._v("81")]),e("br"),e("span",{staticClass:"line-number"},[s._v("82")]),e("br"),e("span",{staticClass:"line-number"},[s._v("83")]),e("br"),e("span",{staticClass:"line-number"},[s._v("84")]),e("br"),e("span",{staticClass:"line-number"},[s._v("85")]),e("br"),e("span",{staticClass:"line-number"},[s._v("86")]),e("br"),e("span",{staticClass:"line-number"},[s._v("87")]),e("br"),e("span",{staticClass:"line-number"},[s._v("88")]),e("br"),e("span",{staticClass:"line-number"},[s._v("89")]),e("br"),e("span",{staticClass:"line-number"},[s._v("90")]),e("br"),e("span",{staticClass:"line-number"},[s._v("91")]),e("br"),e("span",{staticClass:"line-number"},[s._v("92")]),e("br"),e("span",{staticClass:"line-number"},[s._v("93")]),e("br"),e("span",{staticClass:"line-number"},[s._v("94")]),e("br"),e("span",{staticClass:"line-number"},[s._v("95")]),e("br"),e("span",{staticClass:"line-number"},[s._v("96")]),e("br"),e("span",{staticClass:"line-number"},[s._v("97")]),e("br"),e("span",{staticClass:"line-number"},[s._v("98")]),e("br"),e("span",{staticClass:"line-number"},[s._v("99")]),e("br"),e("span",{staticClass:"line-number"},[s._v("100")]),e("br"),e("span",{staticClass:"line-number"},[s._v("101")]),e("br"),e("span",{staticClass:"line-number"},[s._v("102")]),e("br"),e("span",{staticClass:"line-number"},[s._v("103")]),e("br"),e("span",{staticClass:"line-number"},[s._v("104")]),e("br"),e("span",{staticClass:"line-number"},[s._v("105")]),e("br"),e("span",{staticClass:"line-number"},[s._v("106")]),e("br"),e("span",{staticClass:"line-number"},[s._v("107")]),e("br"),e("span",{staticClass:"line-number"},[s._v("108")]),e("br"),e("span",{staticClass:"line-number"},[s._v("109")]),e("br"),e("span",{staticClass:"line-number"},[s._v("110")]),e("br"),e("span",{staticClass:"line-number"},[s._v("111")]),e("br"),e("span",{staticClass:"line-number"},[s._v("112")]),e("br"),e("span",{staticClass:"line-number"},[s._v("113")]),e("br"),e("span",{staticClass:"line-number"},[s._v("114")]),e("br"),e("span",{staticClass:"line-number"},[s._v("115")]),e("br"),e("span",{staticClass:"line-number"},[s._v("116")]),e("br")])]),e("p",[s._v("这个配置自动生成了很多注释和一些不太必要的配置，所以直接使用上面提供的简便配置即可。")]),s._v(" "),e("h2",{attrs:{id:"取消跟踪"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#取消跟踪"}},[s._v("#")]),s._v(" 取消跟踪")]),s._v(" "),e("p",[s._v("一般来说，"),e("code",[s._v("git init")]),s._v(" 后就应该把 "),e("code",[s._v(".gitignore")]),s._v(" 也配置好，而不是等到项目开发到一半才发现觉累不爱。当然，如果真有这种情况，也有解决办法。")]),s._v(" "),e("p",[s._v("假设需要忽略掉的是在桌面的 Project 文件夹下的 Pods 目录，那么需要下面这三步。")]),s._v(" "),e("h3",{attrs:{id:"添加-gitignore"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加-gitignore"}},[s._v("#")]),s._v(" 添加 .gitignore")]),s._v(" "),e("div",{staticClass:"language-objc line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("$ { echo 'Pods'; } > ~/Desktop/Project/.gitignore\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"删除-git-追踪文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除-git-追踪文件"}},[s._v("#")]),s._v(" 删除 git 追踪文件")]),s._v(" "),e("div",{staticClass:"language-objc line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("$ git rm –cached ~/Desktop/Project/Pods\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"commit-push"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#commit-push"}},[s._v("#")]),s._v(" Commit && Push")]),s._v(" "),e("div",{staticClass:"language-objc line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('$ git commit -a -m "Bye Bye Pods."\n$ git push\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("第二步还有另外一种方法来删除追踪，就是先把 Pods 移到别的目录，然后再移回来。因为重新移回来的时候 .gitignore 就生效了，就忽略它不会再跟踪了，效果跟 "),e("code",[s._v("git rm –cached")]),s._v(" 是一样的。")]),s._v(" "),e("h2",{attrs:{id:"总结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),e("p",[s._v(".gitignore 可以忽略没必要提交的文件和目录，极大地减轻冲突几率，也可以让远程仓库更小一些。项目一开始就配置好 .gitignore，只留一个 Podfile 即可。如果项目进行到一半，添加完 .gitignore 后，需要删除追踪文件并重新提交。")])])}),[],!1,null,null,null);n.default=t.exports}}]);