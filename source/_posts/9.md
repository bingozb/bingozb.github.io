---
title: 解决讨厌的.DS_store文件
date: 2017-01-31 12:20:21
categories: 解决方案
tags: Mac
---

#### 前言

使用 macOS 的操作系统的人都知道，在每个目录里都会有 .DS_Store 这样一个隐藏文件，是用来存储这个文件夹的显示属性的，比如文件图标的摆放位置等。删掉后会自动重新生成，如何优雅地解决它？

<!-- more -->

#### 相关命令

- 删除当前目录的 .DS_store

```
find . -name '*.DS_Store' -type f -delete
```

- 删除所有目录的 .DS_store

```
sudo find / -name “.DS_Store” -depth -exec rm {} \;
```

- 禁止 .DS_store 生成

```
defaults write com.apple.desktopservices DSDontWriteNetworkStores -bool TRUE
```

- 恢复 .DS_store 生成

```
defaults delete com.apple.desktopservices DSDontWriteNetworkStores 
```

#### 后话

删除所有目录的 .DS_store，并禁止它自动生成，应该就一劳永逸了。当然，如果你觉得没有必要，可以完全无视该篇文章。

另外，在 macOS Sierra 10.12 上，已经隐藏这个 .DS_store 文件了，但其实还是存在的，我开了虚拟机在 Windows 上就可以看到这个文件。可能是苹果也发现它的恶心之处了吧，从用户体验的角度出发做了优化。

但其实也就是障眼法，治标不治本，在 Git、SVN 甚至最基本的U盘拷贝文件夹的时候还是会把这个文件提交上去，然而这个文件一点卵用都没有，跟项目一点关系也没有，与其每个项目都在 .gitignore 添加它，还不如用两句命令解决它，你说呢？